var modalMapLink=document.querySelector(".modal-map-link"),modalMap=document.querySelector(".modal-map"),modalMapClose=modalMap.querySelector(".button-close"),modalFeedbackLink=document.querySelector(".modal-feedback-link"),modalFeedback=document.querySelector(".modal-feedback"),modalFeedbackClose=modalFeedback.querySelector(".button-close"),feedbackName=modalFeedback.querySelector(".feedback-field-name"),feedbackEmail=modalFeedback.querySelector(".feedback-field-email"),feedbackMessage=modalFeedback.querySelector(".feedback-field-message"),feedbackForm=modalFeedback.querySelector(".feedback-form"),sliderControlsList=document.querySelectorAll(".slider-control"),promoSlidesList=document.querySelectorAll(".slide"),tabControlsList=document.querySelectorAll(".service-tab"),servicesList=document.querySelectorAll(".service"),tabButtonList=document.querySelectorAll(".button-tab"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}modalMapLink.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("open-modal")}),modalMapClose.addEventListener("click",function(){modalMap.classList.remove("open-modal")}),modalFeedbackLink.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("open-modal"),storageName&&storageEmail?(feedbackName.value=storageName,feedbackEmail.value=storageEmail,feedbackMessage.focus()):storageName||storageEmail?storageName&&!storageEmail?(feedbackName.value=storageName,feedbackEmail.focus()):(feedbackEmail=storageEmail,feedbackName.focus()):feedbackName.focus()}),modalFeedbackClose.addEventListener("click",function(){modalFeedback.classList.remove("open-modal"),modalFeedback.classList.remove("error-modal")}),feedbackForm.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value&&feedbackMessage.value?isStorageSupport&&(localStorage.setItem("name",feedbackName.value),localStorage.setItem("email",feedbackEmail.value)):(e.preventDefault(),modalFeedback.classList.remove("error-modal"),modalFeedback.offsetWidth,modalFeedback.classList.add("error-modal"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(modalFeedback.classList.contains("open-modal")&&(e.preventDefault(),modalFeedback.classList.remove("open-modal"),modalFeedback.classList.remove("error-modal")),modalMap.classList.contains("open-modal")&&(e.preventDefault(),modalMap.classList.remove("open-modal")))});for(var addPromoSliderControlClickHandler=function(a,o){a.addEventListener("click",function(){for(var e=0;e<sliderControlsList.length;e++)sliderControlsList[e].classList.remove("current-control"),promoSlidesList[e].classList.remove("current-slide");a.classList.add("current-control"),o.classList.add("current-slide")})},i=0;i<sliderControlsList.length;i++)addPromoSliderControlClickHandler(sliderControlsList[i],promoSlidesList[i]);for(var addServiceControlClickHandler=function(a,o,t){a.addEventListener("click",function(){for(var e=0;e<tabControlsList.length;e++)tabControlsList[e].classList.remove("current-tab"),servicesList[e].classList.remove("current-service"),tabButtonList[e].removeAttribute("disabled");a.classList.add("current-tab"),t.classList.add("current-service"),o.setAttribute("disabled","true")})},i=0;i<tabControlsList.length;i++)addServiceControlClickHandler(tabControlsList[i],tabButtonList[i],servicesList[i]);